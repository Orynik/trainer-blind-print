(function(){"use strict";var e={2613:function(e,t,n){var a=n(9242),r=n(3396);function l(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var o=n(89);const i={},s=(0,o.Z)(i,[["render",l]]);var u=s,c=n(2483),d=n(4870),v=n(4161);const p=v.Z.create();function f(e,t=""){if("string"!==typeof e){const n=new FormData;return e&&Object.entries(e).forEach((([e,t])=>n.append(e,t))),t&&n.append("_method",t),n}return e}const m={get(e,t){return p.get(e,{params:t}).catch((e=>console.error(`Ошибка запроса: ${e}`)))},post(e,t,n,a){const r=f(t);let l={params:n,responseType:a};return"string"===typeof t&&(l={...l,headers:{"Content-Type":"application/json"}}),p.post(e,r,l).catch((e=>console.error(`Ошибка запроса: ${e}`)))}};var g=m;const h={getFishTextRu(e){return g.get("https://fish-text.ru/get",e)},getFishTextEn(e){return g.get("https://baconipsum.com/api/",e)}};var w=h,y=n(7139);n(7658);const b={class:"text-start"};var _=(0,r.aZ)({__name:"TextWriteRender",props:{text:{},indexCurrentChar:{},invalidChar:{type:Boolean}},setup(e){const t=e;let n=(0,r.Fl)((()=>{let e=[];return t.text.forEach(((t,n)=>{e.push({id:n,charName:t})})),e}));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,d.SU)(n),(({id:t,charName:n})=>((0,r.wg)(),(0,r.iD)("span",{key:t,class:(0,y.C_)(["char",[{"custom-select":t===e.indexCurrentChar},{"custom-select--uncorrect":e.invalidChar&&t===e.indexCurrentChar}]])},(0,y.zw)(n),3)))),128))]))}});const x=(0,o.Z)(_,[["__scopeId","data-v-4b131c5e"]]);var k=x;const D=(0,d.iH)(!1),C=(0,d.iH)(0),S=(0,d.iH)(1),U=(0,r.Fl)((()=>S.value/60));function F(){D.value||(C.value=setInterval((()=>{S.value++}),1e3),D.value=!0)}function $(){clearInterval(C.value),D.value=!1}function H(){$(),S.value=1,F()}const j=e=>((0,r.dD)("data-v-49dd1926"),e=e(),(0,r.Cn)(),e),O=j((()=>(0,r._)("span",{class:"visually-hidden"},"Loading...",-1))),T=[O];var E=(0,r.aZ)({__name:"loader",props:{color:{type:String,default:"primary",validator:e=>["primary","secondary","success","danger","warning","info","light","dark"].includes(e)},isFullscreenLoader:{type:Boolean,default:!1}},setup(e){return(t,n)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,y.C_)(["spinner-border mx-auto",[{"spinner-fullscreen":e.isFullscreenLoader},`text-${e.color}`]]),role:"status"},T,2))}});const Z=(0,o.Z)(E,[["__scopeId","data-v-49dd1926"]]);var L=Z;const V={key:1,class:"test-write"},z={key:1,class:"test-write__textarea p-3"},B={class:"test-write__info p-3"},R={class:"d-flex flex-column"},q=(0,r._)("p",null,"Скорость",-1),K={class:"d-flex flex-column"},P=(0,r._)("p",null,"Точность",-1),Y={class:"d-flex flex-column"},I=(0,r._)("p",null,"Прошедшее время",-1),M={class:"d-flex flex-column"},W=(0,r._)("hr",null,null,-1),N=(0,r._)("span",null," Функции ",-1),G=["onClick"];var J=(0,r.aZ)({__name:"TextWriteWindow",props:{text:{},isLoading:{type:Boolean}},emits:["backToForm"],setup(e,{emit:t}){const n=e;let l=(0,d.iH)(0),o=(0,d.iH)(!1),i=(0,r.Fl)((()=>n.text[l.value])),s=(0,d.iH)(0);const u=["shift","capslock","enter","control","alt","backspace"];function c(e){l.value>=n.text.length-1&&$();let t=!!~u.findIndex((t=>e.key.toLowerCase()===t));if(!t){if(e.key!=i.value&&("-"!==e.key||"—"!==i.value))return o.value=!0,void s.value++;o.value=!1,l.value++}}(0,r.YP)((()=>n.text),(()=>{n.text.length&&F()})),(0,r.bv)((()=>{document.addEventListener("keydown",c)})),(0,r.Jd)((()=>{document.removeEventListener("keydown",c)}));const v=(0,r.Fl)((()=>{let e=+l.value/U.value;return e.toFixed()})),p=(0,r.Fl)((()=>(100-100*s.value/n.text.length).toFixed(1)));function f(e){$(),t("backToForm",e)}function m(){l.value=0,o.value=!1,s.value=0,n.text.length&&H()}return(e,t)=>((0,r.wg)(),(0,r.iD)("div",null,[e.isLoading?((0,r.wg)(),(0,r.j4)(L,{key:0,"is-fullscreen-loader":""})):((0,r.wg)(),(0,r.iD)("div",V,[e.text.length?((0,r.wg)(),(0,r.j4)(k,(0,r.dG)({key:0,class:"test-write__textarea p-3"},{text:e.text,invalidChar:(0,d.SU)(o),indexCurrentChar:(0,d.SU)(l)}),null,16)):((0,r.wg)(),(0,r.iD)("div",z," Произошла ошибка запроса данных, попробуйте позже ")),(0,r._)("aside",B,[(0,r._)("div",R,[q,(0,r._)("p",null,(0,y.zw)(v.value)+" зн./мин ",1)]),(0,r._)("div",K,[P,(0,r._)("p",null,(0,y.zw)(p.value)+" % ",1)]),(0,r._)("div",Y,[I,(0,r._)("p",null,(0,y.zw)((0,d.SU)(S))+" с. ",1)]),(0,r._)("div",M,[W,N,(0,r._)("button",{type:"button",class:"btn btn-link",tabindex:"-1",onKeyup:t[0]||(t[0]=(0,a.iM)((()=>{}),["prevent"])),onClick:(0,a.iM)(m,["left"])}," Заново ",40,G),(0,r._)("button",{type:"button",class:"btn btn-link",tabindex:"-1",onClick:f}," Назад ")])])]))]))}});const X=J;var A=X,Q=n(4219);const ee=(0,r._)("h3",{class:"mx-5"}," Слепая печать ",-1),te={key:0,class:"input-group flex-column mb-3"},ne=["onUpdate:modelValue","onBlur"],ae=(0,r._)("option",{selected:"",disabled:"",value:"default"}," Выберите язык: ",-1),re=["value"],le={key:0,class:"invalid-feedback"},oe={key:1,class:"input-group flex-column mb-3"},ie={for:"sentences",class:"form-label align-self-start"},se=["id","onUpdate:modelValue","placeholder","onBlur"],ue={key:0,class:"invalid-feedback"};var ce=(0,r.aZ)({__name:"formConstruct",props:{formSchema:{},formValidation:{}},emits:["sendData"],setup(e,{emit:t}){const n=e;let l=(0,d.iH)({});n.formSchema.forEach((e=>{l.value[e.name]=e.default}));let o=(0,Q.ZP)(n.formValidation,l);function i(){o.value.$touch(),o.value.$errors.length||t("sendData",l.value)}return(e,t)=>((0,r.wg)(),(0,r.iD)("form",null,[ee,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.formSchema,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.name},["select"===e.type?((0,r.wg)(),(0,r.iD)("div",te,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t=>(0,d.SU)(l)[e.name]=t,class:(0,y.C_)(["form-select w-100",{"is-invalid":(0,d.SU)(o)[e.name].$error}]),onBlur:t=>(0,d.SU)(o)[e.name].$touch()},[ae,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options.selectData,(({label:e,value:t})=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:t},(0,y.zw)(e),9,re)))),128))],42,ne),[[a.bM,(0,d.SU)(l)[e.name]]]),(0,d.SU)(o)[e.name].$error?((0,r.wg)(),(0,r.iD)("div",le,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,d.SU)(o)[e.name].$errors,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.$uid},(0,y.zw)(e.$message),1)))),128))])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),"input"===e.type?((0,r.wg)(),(0,r.iD)("div",oe,[(0,r._)("label",ie,(0,y.zw)(e.label),1),(0,r.wy)((0,r._)("input",{id:e.name,"onUpdate:modelValue":t=>(0,d.SU)(l)[e.name]=t,class:(0,y.C_)(["form-control w-100",{"is-invalid":(0,d.SU)(o)[e.name].$error}]),placeholder:e.placeholder||"Заполните поле",onBlur:t=>(0,d.SU)(o)[e.name].$touch()},null,42,se),[[a.nr,(0,d.SU)(l)[e.name]]]),(0,d.SU)(o)[e.name].$error?((0,r.wg)(),(0,r.iD)("div",ue,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,d.SU)(o)[e.name].$errors,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.$uid},(0,y.zw)(e.$message),1)))),128))])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])))),128)),(0,r._)("div",{class:"mb-3"},[(0,r._)("button",{class:"btn btn-primary",type:"button",onClick:i}," Выбрать ")])]))}});const de=ce;var ve=de,pe=n(5420);const fe={class:"test-page"};var me=(0,r.aZ)({__name:"HomeView",setup(e){const t=e=>["Ru","En"].includes(e),n=[{name:"lang",label:"Выберите язык",type:"select",placeholder:"Количество предложений",default:"",options:{selectData:[{label:"Ru",value:"Ru"},{label:"En",value:"En"}]}},{name:"sentences",type:"input",label:"Количество предложений",default:""}],a={lang:{required:pe.C1,isLang:t},sentences:{maxValue:pe.PW,numeric:pe.uR,betweenValue:(0,pe.vX)(1,15),required:pe.C1}};let l=(0,d.iH)(""),o=(0,d.iH)(!0),i=(0,d.iH)(!0);function s(e){if(i.value=!1,"Ru"===e.lang){const t={type:"sentence",number:e.sentences,format:"json"};return void w.getFishTextRu(t).then((({data:e})=>{"success"===e.status?l.value=e.text:console.error("Ошибка получения данных")})).finally((()=>{o.value=!1}))}const t={type:"all-meat",sentences:e.sentences};w.getFishTextEn(t).then((({data:e})=>{l.value=e[0]})).finally((()=>{o.value=!1})).catch((e=>console.error("Ошибка: ",e)))}function u(){i.value=!0,o.value=!0}return(e,t)=>((0,r.wg)(),(0,r.iD)("div",fe,[(0,d.SU)(i)?((0,r.wg)(),(0,r.j4)(ve,{key:0,"form-schema":n,"form-validation":a,class:"modal-setup",onSendData:s})):((0,r.wg)(),(0,r.j4)(A,{key:1,text:(0,d.SU)(l).trim().split(""),"is-loading":(0,d.SU)(o),onBackToForm:u},null,8,["text","is-loading"]))]))}});const ge=me;var he=ge;const we=[{path:"/",name:"home",component:he}],ye=(0,c.p7)({history:(0,c.PO)("/trainer-blind-print/"),routes:we});var be=ye;(0,a.ri)(u).use(be).mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,l){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],l=e[c][2];for(var i=!0,s=0;s<a.length;s++)(!1&l||o>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(i=!1,l<o&&(o=l));if(i){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,l,o=a[0],i=a[1],s=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(s)var c=s(n)}for(t&&t(a);u<o.length;u++)l=o[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self["webpackChunktrainer_blind_print"]=self["webpackChunktrainer_blind_print"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2613)}));a=n.O(a)})();
//# sourceMappingURL=app.dcc14e7f.js.map